{% extends 'base.html' %}

{% block title %}Update Category | Ecommerce{% endblock %}

{% block content %}
<section class="customer-list-section">
    <div class="container">
        <div class="content">
            <div class="title-box">
                <div class="page-title">
                    <h3>Update Category</h3>
                </div>
                <div class="breadcrumbs">
                    <ul class="breadcrumbs-list">
                        <li>
                            <a href="/backend/dashboard/">
                                <span><img src="/static/images/icons/Home.svg" alt="home" /></span>Home
                            </a>
                        </li>
                        <li><a href="{% url 'backend:category_list' %}">Main Category List</a></li>
                        <li><a href="#">Update Category</a></li>
                    </ul>
                </div>
            </div>

            <div class="form-area-content">
                <div class="form-inner-content">
                    <form method="post" enctype="multipart/form-data">
                        {% csrf_token %}

                        <!-- Display messages if any -->
                        {% if messages %}
                        <div class="alert alert-info" role="alert" style="color: red">
                            {% for message in messages %}
                            <p>{{ message }}</p>
                            {% endfor %}
                        </div>
                        {% endif %}

                        <div class="form-group">
                            <div class="input-field">
                                <label for="id_name">Category Name</label>
                                {{ form.name }}
                            </div>
                            <div class="input-field">
                                <label for="id_ordering">Ordering</label>
                                {{ form.ordering }}
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="input-field-full">
                                <label for="id_description">Description</label>
                                {{ form.description }}
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="input-field input-photo">
                                <label for="id_image">Image</label>
                                {% if form.instance.image %}
                                <div class="current-image mb-2">
                                    <p>Current: <a href="{{ form.instance.image.url }}" target="_blank">{{ form.instance.image.name }}</a></p>
                                </div>
                                {% endif %}
                                {{ form.image }}
                            </div>
                           
                        </div>

                        <div class="form-group">
                            <div class="form-button">
                                <button type="submit" class="button blue-button">Update</button>
                                <a href="{% url 'backend:category_list' %}" class="button primary-button cancle-button">Cancel</a>
                            </div>
                        </div>
                    </form>
                    
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
